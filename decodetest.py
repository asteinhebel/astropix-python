from modules.decode import Decode
import binascii
import time

decode = Decode()

i = 0
file1 = open("./testfile.txt", 'w')


readout = bytearray(binascii.unhexlify(b'12903d28e812900ebcbc0868d0002000e540a82080bb50352840d960952840237052284023a08128c0b0e03c2820e1207828a088f0cb2860bd406c28e0d910022810b0e0db2890bec010285024500d28d02f309328e0d9103128303710a928b0d96069287012c00428f0a78078280812b0092888a0401728483a502128c8df80132828ad505528a824704228681cc03228e83ff00728183aa00a289889e01728580c707428d872e05c283806f04c28b8ba205f28780ab02a28f80b805b2804c920052884d7d0a82844fe30d72801e840192881af901228c15cd01828b86ba04f2821d9901f28a1cd6030286123a07028e130b05f28110930032844dfc03c2891df9064285170305f28d1b5d001283170d00028b1d7601d287177800528f1b0305f280952f00228894020752849cae00828c912a01a28681cf090289889c09628b86b203328d0bc201a2861bcc05068bc'))
decList = decode.decode_astropix2_hits(decode.hits_from_readoutstream(readout), i, file1, time.time(), False, False)

print(decList)
file1.close()